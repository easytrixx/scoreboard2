{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Cl\\xE9ment\\\\OneDrive\\\\Documents\\\\Scoreboard\\\\ccoreboard\\\\src\\\\pages\\\\Data.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { useState, useEffect } from 'react';\nimport Grid from '@material-ui/core/Grid';\nimport Paper from '@material-ui/core/Paper';\nimport Avatar from '@material-ui/core/Avatar';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Typography } from '@material-ui/core';\nimport { blue } from '@material-ui/core/colors';\nimport { useLocation } from \"react-router-dom\";\nimport { useParams } from \"react-router-dom\";\nimport { Howl, Howler } from \"howler\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles(theme => ({\n  root: {\n    flexGrow: 1\n  },\n  score: {\n    padding: theme.spacing(1),\n    textAlign: 'center',\n    color: \"red\",\n    fontFamily: \"Lucida Console\",\n    fontSize: \"15px\"\n  },\n  paper: {\n    padding: theme.spacing(1),\n    textAlign: 'center',\n    color: \"white\",\n    fontSize: \"30px\",\n    fontFamily: \"Lucida Console\",\n    backgroundColor: \"#B0B0B0\"\n  },\n  teamName: {\n    padding: theme.spacing(1),\n    color: \"white\",\n    fontSize: \"30px\",\n    fontFamily: \"Lucida Console\",\n    marginLeft: \"15px\"\n  },\n  borderCity: {\n    backgroundColor: \"#3ACAF0\"\n  },\n  borderAway: {\n    backgroundColor: \"#EB0705\"\n  },\n  borderS: {\n    backgroundColor: \"#B0B0B0\",\n    fontFamily: \"Lucida Console\"\n  },\n  bigBorder: {\n    marginLeft: \"10px\",\n    marginTop: \"10px\",\n    boxShadow: \"0px 35px 30px -15px #111\"\n  },\n  avatar: {\n    height: \"53px\",\n    width: \"53px\"\n  },\n  borderSTop: {\n    backgroundColor: \"#B0B0B0\",\n    fontFamily: \"Lucida Console\"\n  },\n  gridScore: {\n    backgroundColor: \"#EDF792\",\n    height: \"30px\"\n  }\n}));\n\nconst Data = () => {\n  _s();\n\n  const {\n    id\n  } = useParams();\n  const MINUTE_MS = 20000;\n  const classes = useStyles();\n  const [nameHomeTeam, setHomeTeam] = useState(\"TEST\");\n  const [nameAwayTeam, setAwayTeam] = useState(\"TEST\");\n  const [scoreHome, setScoreHome] = useState(0);\n  const [scoreAway, setScoreAway] = useState(0);\n  let goal = new Audio(\"/sound.mp3\");\n  let red = new Audio(\"/sound.mp3\");\n  const [logoHomeTeam, setLogoHomeTeam] = useState();\n  const [logoAwayTeam, setLogoAwayTeam] = useState();\n  let table = [];\n  const [homeTeamColor, setHomeTeamColor] = useState(\"yellow\");\n  const [awayTeamColor, setAwayTeamColor] = useState(\"yellow\");\n  const [timer, setTimer] = useState(0);\n\n  const start = () => {\n    fetch(\"https://api.sofascore.com/api/v1/event/\" + id + \"/incidents\").then(response => {\n      return response.json();\n    }).then(users => {\n      let lastElement = table[table.length - 1];\n      console.log(lastElement);\n      console.log(users.incidents[0]);\n\n      if (table == null || lastElement.time != users.incidents[0].time || lastElement.incidentType != users.incidents[0].incidentType) {\n        table.push(users.incidents[0]);\n        console.log(\"HELLO\");\n\n        if (users.incidents[0].incidentType == \"period\") {\n          goal.play();\n        } else if (users.incidents[0].incidentType == \"card\" && users.incidents.incidentType == \"red\") {\n          red.play();\n        }\n      }\n    });\n  };\n\n  const setMinuts = value => {\n    var start = value.currentPeriodStartTimestamp;\n    var now = Math.floor(Date.now() / 1000);\n    var time = now - start;\n    var h = Math.floor(time / 3600);\n    var m = Math.floor(time % 3600 / 60);\n    var s = Math.floor(time % 3600 % 60);\n    var realtime = \"\";\n\n    if (value.status.type == \"notstarted\") {\n      realtime = 45;\n    } else {\n      if (value.lastPeriod == \"period1\") {\n        realtime = m;\n      } else if (value.lastPeriod == null) {\n        //realtime=\"HT\";\n        realtime = 89;\n      } else {\n        realtime = 45 + m;\n      }\n    }\n\n    setTimer(realtime);\n  };\n\n  const getData = () => {\n    fetch(\"https://api.sofascore.com/api/v1/event/\" + id).then(response => {\n      return response.json();\n    }).then(users => {\n      if (users.event.homeScore.current == null) {\n        setScoreHome(0);\n        setScoreAway(0);\n      } else {\n        setScoreHome(users.event.homeScore.current);\n        setScoreAway(users.event.awayScore.current);\n      }\n\n      setHomeTeam(users.event.homeTeam.name);\n      setAwayTeam(users.event.awayTeam.name);\n      getLogoHomeTeam(users.event.homeTeam.id);\n      getLogoAwayTeam(users.event.awayTeam.id);\n      setMinuts(users.event);\n\n      if (users.event.homeTeam.teamColors.primary == \"#ffffff\") {\n        setHomeTeamColor(users.event.homeTeam.teamColors.secondary);\n      } else {\n        setHomeTeamColor(users.event.homeTeam.teamColors.primary);\n      }\n\n      if (users.event.awayTeam.teamColors.primary == \"#ffffff\") {\n        setAwayTeamColor(users.event.awayTeam.teamColors.secondary);\n      } else {\n        setAwayTeamColor(users.event.awayTeam.teamColors.primary);\n      }\n    });\n  };\n\n  const getLogoHomeTeam = id => {\n    const url = \"https://api.sofascore.app/api/v1/team/\" + id + \"/image\";\n    fetch(url).then(response => {\n      return response.blob();\n    }).then(users => {\n      const imageObjectURL = URL.createObjectURL(users);\n      setLogoHomeTeam(imageObjectURL);\n    });\n  };\n\n  const getLogoAwayTeam = id => {\n    const url = \"https://api.sofascore.app/api/v1/team/\" + id + \"/image\";\n    fetch(url).then(response => {\n      return response.blob();\n    }).then(users => {\n      const imageObjectURL = URL.createObjectURL(users);\n      setLogoAwayTeam(imageObjectURL);\n    });\n  };\n\n  useEffect(() => {\n    getData();\n    start();\n    const interval = setInterval(() => {\n      getData();\n      start();\n    }, MINUTE_MS);\n    return () => clearInterval(interval);\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: classes.root,\n    children: /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      xs: 4,\n      className: classes.bigBorder,\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        container: true,\n        xs: 4,\n        style: {\n          backgroundColor: homeTeamColor\n        },\n        justify: \"center\",\n        alignItems: \"center\",\n        backgroundColor: \"#0310a7\",\n        children: /*#__PURE__*/_jsxDEV(Avatar, {\n          className: classes.avatar,\n          src: logoHomeTeam\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        container: true,\n        xs: 6,\n        style: {\n          backgroundColor: homeTeamColor\n        },\n        children: /*#__PURE__*/_jsxDEV(Typography, {\n          className: classes.teamName,\n          children: nameHomeTeam.substring(0, 3).toUpperCase()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        container: true,\n        xs: 2,\n        className: classes.borderSTop,\n        justify: \"center\",\n        alignItems: \"center\",\n        children: /*#__PURE__*/_jsxDEV(Typography, {\n          className: classes.paper,\n          children: scoreHome\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        container: true,\n        xs: 4,\n        style: {\n          backgroundColor: awayTeamColor\n        },\n        justify: \"center\",\n        alignItems: \"center\",\n        children: /*#__PURE__*/_jsxDEV(Avatar, {\n          className: classes.avatar,\n          src: logoAwayTeam\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        container: true,\n        xs: 6,\n        style: {\n          backgroundColor: awayTeamColor\n        },\n        children: /*#__PURE__*/_jsxDEV(Typography, {\n          className: classes.teamName,\n          children: nameAwayTeam.substring(0, 3).toUpperCase()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        container: true,\n        xs: 2,\n        className: classes.borderS,\n        justify: \"center\",\n        alignItems: \"center\",\n        children: /*#__PURE__*/_jsxDEV(Typography, {\n          className: classes.paper,\n          children: scoreAway\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 201,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Data, \"IPU5bYm3ebYb6tz0G9aJDb/o2ic=\", false, function () {\n  return [useParams, useStyles];\n});\n\n_c = Data;\nexport default Data;\n\nvar _c;\n\n$RefreshReg$(_c, \"Data\");","map":{"version":3,"sources":["C:/Users/Clément/OneDrive/Documents/Scoreboard/ccoreboard/src/pages/Data.js"],"names":["React","useState","useEffect","Grid","Paper","Avatar","makeStyles","Typography","blue","useLocation","useParams","Howl","Howler","useStyles","theme","root","flexGrow","score","padding","spacing","textAlign","color","fontFamily","fontSize","paper","backgroundColor","teamName","marginLeft","borderCity","borderAway","borderS","bigBorder","marginTop","boxShadow","avatar","height","width","borderSTop","gridScore","Data","id","MINUTE_MS","classes","nameHomeTeam","setHomeTeam","nameAwayTeam","setAwayTeam","scoreHome","setScoreHome","scoreAway","setScoreAway","goal","Audio","red","logoHomeTeam","setLogoHomeTeam","logoAwayTeam","setLogoAwayTeam","table","homeTeamColor","setHomeTeamColor","awayTeamColor","setAwayTeamColor","timer","setTimer","start","fetch","then","response","json","users","lastElement","length","console","log","incidents","time","incidentType","push","play","setMinuts","value","currentPeriodStartTimestamp","now","Math","floor","Date","h","m","s","realtime","status","type","lastPeriod","getData","event","homeScore","current","awayScore","homeTeam","name","awayTeam","getLogoHomeTeam","getLogoAwayTeam","teamColors","primary","secondary","url","blob","imageObjectURL","URL","createObjectURL","interval","setInterval","clearInterval","substring","toUpperCase"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport {useState, useEffect} from 'react'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { Typography } from '@material-ui/core';\r\nimport { blue } from '@material-ui/core/colors';\r\nimport { useLocation } from \"react-router-dom\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport {Howl,Howler} from \"howler\"\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n      flexGrow: 1,\r\n    },\r\n    score:{\r\n    padding: theme.spacing(1),\r\n      textAlign: 'center',\r\n      color: \"red\",\r\n      fontFamily: \"Lucida Console\",\r\n      fontSize: \"15px\",\r\n\r\n    },\r\n    paper: {\r\n      padding: theme.spacing(1),\r\n      textAlign: 'center',\r\n      color: \"white\",\r\n    \r\n      fontSize: \"30px\",\r\n      fontFamily: \"Lucida Console\",\r\n      backgroundColor: \"#B0B0B0\"\r\n    },\r\n    teamName: {\r\n        padding: theme.spacing(1),\r\n        color: \"white\",\r\n        fontSize: \"30px\",\r\n        fontFamily: \"Lucida Console\",\r\n        marginLeft: \"15px\"\r\n      },\r\n    borderCity:{\r\n        backgroundColor: \"#3ACAF0\"\r\n    },\r\n    borderAway:{\r\n        backgroundColor: \"#EB0705\",\r\n    },\r\n    borderS:{\r\n        backgroundColor: \"#B0B0B0\",\r\n        fontFamily: \"Lucida Console\",\r\n    },\r\n    bigBorder:{\r\n        marginLeft: \"10px\",\r\n        marginTop: \"10px\",\r\n        boxShadow: \"0px 35px 30px -15px #111\"\r\n    },\r\n    avatar:{\r\n      height: \"53px\",\r\n      width: \"53px\"\r\n    },\r\n    borderSTop:{\r\n        backgroundColor: \"#B0B0B0\",\r\n        fontFamily: \"Lucida Console\",\r\n\r\n    },\r\n    gridScore:{\r\n        backgroundColor: \"#EDF792\",\r\n        height: \"30px\"\r\n    },\r\n  }));\r\n  \r\nconst Data = () => {\r\n    const { id } = useParams()\r\n    const MINUTE_MS = 20000;\r\n    const classes = useStyles();\r\n    const [nameHomeTeam, setHomeTeam] = useState(\"TEST\");\r\n    const [nameAwayTeam, setAwayTeam] = useState(\"TEST\");\r\n    const [scoreHome, setScoreHome] = useState(0);\r\n    const [scoreAway, setScoreAway] = useState(0);\r\n    let goal = new Audio(\"/sound.mp3\")\r\n    let red = new Audio(\"/sound.mp3\")\r\n    const [logoHomeTeam, setLogoHomeTeam] = useState();\r\n    const [logoAwayTeam, setLogoAwayTeam] = useState();\r\n    let table=[]\r\n    const [homeTeamColor,setHomeTeamColor]=useState(\"yellow\");\r\n    const [awayTeamColor, setAwayTeamColor]=useState(\"yellow\")\r\n    const [timer, setTimer]=useState(0);\r\n    const start = () => {\r\n      fetch(\"https://api.sofascore.com/api/v1/event/\"+id+\"/incidents\")\r\n        .then(response=> {\r\n             return response.json();\r\n        })\r\n        .then(users => {\r\n            let lastElement=table[table.length-1]\r\n            console.log(lastElement)\r\n            console.log(users.incidents[0])\r\n            if(table==null || (lastElement.time!=users.incidents[0].time || lastElement.incidentType!=users.incidents[0].incidentType)){\r\n              table.push(users.incidents[0])\r\n              console.log(\"HELLO\")\r\n              if(users.incidents[0].incidentType==\"period\"){\r\n                goal.play()\r\n              }\r\n              else if (users.incidents[0].incidentType==\"card\" && users.incidents.incidentType==\"red\"){\r\n                red.play()\r\n              }\r\n          }\r\n          \r\n        })\r\n    }  \r\n    const setMinuts =(value) => {\r\n        var start=value.currentPeriodStartTimestamp;\r\n        var now=Math.floor(Date.now() / 1000)\r\n        var time=now-start;\r\n        var h = Math.floor(time / 3600);\r\n        var m = Math.floor(time % 3600 / 60);\r\n        var s = Math.floor(time % 3600 % 60);\r\n        var realtime=\"\"\r\n        if(value.status.type==\"notstarted\"){\r\n            realtime=45\r\n        }\r\n        else{\r\n            if(value.lastPeriod==\"period1\"){\r\n                realtime=m;\r\n            }\r\n            else if(value.lastPeriod==null){\r\n                //realtime=\"HT\";\r\n                realtime=89\r\n            }\r\n            else{\r\n                realtime=45+m;\r\n            }\r\n        }\r\n        setTimer(realtime)\r\n    }\r\n    const getData = () => {\r\n\r\n        fetch(\"https://api.sofascore.com/api/v1/event/\"+id)\r\n        .then(response=> {\r\n             return response.json();\r\n        })\r\n        .then(users => {\r\n            if(users.event.homeScore.current==null){\r\n                setScoreHome(0)\r\n                setScoreAway(0)\r\n            }\r\n            else{\r\n                setScoreHome(users.event.homeScore.current);\r\n                setScoreAway(users.event.awayScore.current);\r\n            }\r\n            setHomeTeam(users.event.homeTeam.name);\r\n            setAwayTeam(users.event.awayTeam.name);\r\n            getLogoHomeTeam(users.event.homeTeam.id);\r\n            getLogoAwayTeam(users.event.awayTeam.id);\r\n            setMinuts(users.event)\r\n            if(users.event.homeTeam.teamColors.primary==\"#ffffff\"){\r\n                setHomeTeamColor(users.event.homeTeam.teamColors.secondary)\r\n            }\r\n            else{\r\n                setHomeTeamColor(users.event.homeTeam.teamColors.primary)\r\n            }\r\n            if(users.event.awayTeam.teamColors.primary==\"#ffffff\"){\r\n                setAwayTeamColor(users.event.awayTeam.teamColors.secondary)\r\n            }\r\n            else{\r\n                setAwayTeamColor(users.event.awayTeam.teamColors.primary)\r\n            }\r\n        })\r\n    }\r\n    const getLogoHomeTeam = (id) =>{\r\n        const url=\"https://api.sofascore.app/api/v1/team/\"+id+\"/image\"\r\n        fetch(url)\r\n        .then(response=> {\r\n             return response.blob();\r\n        })\r\n        .then(users => {\r\n            const imageObjectURL = URL.createObjectURL(users);\r\n            setLogoHomeTeam(imageObjectURL);\r\n            \r\n        })\r\n    }\r\n    const getLogoAwayTeam = (id) =>{\r\n        const url=\"https://api.sofascore.app/api/v1/team/\"+id+\"/image\"\r\n        fetch(url)\r\n        .then(response=> {\r\n             return response.blob();\r\n        })\r\n        .then(users => {\r\n            const imageObjectURL = URL.createObjectURL(users);\r\n            setLogoAwayTeam(imageObjectURL);\r\n        })\r\n    }\r\n    useEffect(() => {\r\n        getData()\r\n        start()\r\n        const interval = setInterval(() => {\r\n            getData()\r\n            start()\r\n        }, MINUTE_MS);\r\n        return () => clearInterval(interval);\r\n    },[])\r\n    return (\r\n        <div className={classes.root}>\r\n        <Grid container xs={4} className={classes.bigBorder}>\r\n          <Grid item container xs={4} style={{backgroundColor: homeTeamColor}} justify=\"center\" alignItems=\"center\" backgroundColor=\"#0310a7\">\r\n            <Avatar className={classes.avatar} src={logoHomeTeam}></Avatar>\r\n          </Grid>\r\n          <Grid item container xs={6} style={{backgroundColor: homeTeamColor}} >\r\n            <Typography className={classes.teamName}>{nameHomeTeam.substring(0,3).toUpperCase()}</Typography>\r\n          </Grid>\r\n          <Grid item container xs={2} className={classes.borderSTop} justify=\"center\" alignItems=\"center\">\r\n            <Typography className={classes.paper}>{scoreHome}</Typography>\r\n          </Grid>\r\n          <Grid item container xs={4} style={{backgroundColor: awayTeamColor}} justify=\"center\" alignItems=\"center\">\r\n            <Avatar className={classes.avatar} src={logoAwayTeam}></Avatar>\r\n          </Grid>\r\n          <Grid item container xs={6} style={{backgroundColor: awayTeamColor}} >\r\n            <Typography className={classes.teamName}>{nameAwayTeam.substring(0,3).toUpperCase()}</Typography>\r\n          </Grid>\r\n          <Grid item container xs={2} className={classes.borderS} justify=\"center\" alignItems=\"center\">\r\n            <Typography className={classes.paper}>{scoreAway}</Typography>\r\n          </Grid>\r\n         \r\n        </Grid>\r\n      </div>\r\n    )\r\n}\r\n\r\nexport default Data;"]},"metadata":{},"sourceType":"module"}